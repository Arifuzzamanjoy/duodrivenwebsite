<!-- AI Chat Widget Component -->
<!-- Toggle Button -->
<button class="chat-toggle" id="chatToggle" onclick="toggleChat()" aria-label="Open AI Chat Agent">
    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
        <path d="M21 11.5a8.38 8.38 0 0 1-.9 3.8 8.5 8.5 0 0 1-7.6 4.7 8.38 8.38 0 0 1-3.8-.9L3 21l1.9-5.7a8.38 8.38 0 0 1-.9-3.8 8.5 8.5 0 0 1 4.7-7.6 8.38 8.38 0 0 1 3.8-.9h.5a8.48 8.48 0 0 1 8 8v.5z"></path>
    </svg>
    <span class="notification-dot"></span>
</button>

<!-- Chat Widget -->
<div class="chat-widget" id="chatWidget">
    <!-- Header -->
    <div class="chat-header">
        <div class="chat-header-info">
            <div class="chat-avatar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
                </svg>
                <span class="status-dot"></span>
            </div>
            <div class="chat-header-text">
                <h4>DUODRIVEN AI Agent</h4>
                <span>Online</span>
            </div>
        </div>
        <div class="chat-header-actions">
            <button onclick="newChatSession()" aria-label="New chat" title="Start new chat">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12h14"></path>
                </svg>
            </button>
            <button onclick="minimizeChat()" aria-label="Minimize chat">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="5" y1="12" x2="19" y2="12"></line>
                </svg>
            </button>
            <button onclick="toggleChat()" aria-label="Close chat">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="18" y1="6" x2="6" y2="18"></line>
                    <line x1="6" y1="6" x2="18" y2="18"></line>
                </svg>
            </button>
        </div>
    </div>
    
    <!-- Messages Area -->
    <div class="chat-messages" id="chatMessages">
        <!-- Welcome Message -->
        <div class="welcome-message">
            <div class="avatar">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="3"></circle>
                    <path d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"></path>
                </svg>
            </div>
            <h4>Hi! I'm the DUODRIVEN AI Agent.</h4>
            <p>I can help you understand our services, discuss your growth challenges, or schedule a call with our engineering team. What can I help you with today?</p>
        </div>
    </div>
    
    <!-- Quick Actions -->
    <div class="quick-actions" id="quickActions">
        <button class="quick-action" onclick="sendQuickMessage('Tell me about your services')">Services</button>
        <button class="quick-action" onclick="sendQuickMessage('How does your pricing work?')">Pricing</button>
        <button class="quick-action" onclick="sendQuickMessage('Can you show me case studies?')">Case Studies</button>
        <button class="quick-action" onclick="sendQuickMessage('I want to schedule a consultation')">Book a Call</button>
    </div>
    
    <!-- Input Area -->
    <div class="chat-input-wrapper">
        <form class="chat-input-form" id="chatForm" onsubmit="handleChatSubmit(event)">
            <textarea 
                class="chat-input" 
                id="chatInput" 
                placeholder="Type your message..." 
                rows="1"
                onkeydown="handleInputKeydown(event)"
            ></textarea>
            <button type="submit" class="chat-send-btn" id="chatSendBtn" aria-label="Send message">
                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <line x1="22" y1="2" x2="11" y2="13"></line>
                    <polygon points="22 2 15 22 11 13 2 9 22 2"></polygon>
                </svg>
            </button>
        </form>
    </div>
</div>
