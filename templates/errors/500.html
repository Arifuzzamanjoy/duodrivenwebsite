{% extends "base.html" %}

{% block title %}Server Error - DUODRIVEN{% endblock %}

{% block extra_styles %}
<style>
    .error-page {
        min-height: 100vh;
        display: flex;
        align-items: center;
        justify-content: center;
        padding: var(--spacing-2xl);
        background: var(--color-bg-primary);
        position: relative;
        overflow: hidden;
    }
    
    .error-bg {
        position: absolute;
        inset: 0;
        background: 
            radial-gradient(ellipse 50% 50% at 20% 30%, rgba(239, 68, 68, 0.05) 0%, transparent 50%),
            radial-gradient(ellipse 40% 60% at 80% 70%, rgba(139, 92, 246, 0.05) 0%, transparent 50%);
    }
    
    .error-grid {
        position: absolute;
        inset: 0;
        background-image: linear-gradient(rgba(255, 255, 255, 0.02) 1px, transparent 1px),
                          linear-gradient(90deg, rgba(255, 255, 255, 0.02) 1px, transparent 1px);
        background-size: 50px 50px;
        opacity: 0.5;
    }
    
    .error-content {
        position: relative;
        z-index: 10;
        text-align: center;
        max-width: 600px;
    }
    
    .error-code {
        font-size: clamp(8rem, 20vw, 15rem);
        font-weight: 800;
        line-height: 1;
        background: linear-gradient(135deg, #ef4444, #dc2626, #b91c1c);
        -webkit-background-clip: text;
        -webkit-text-fill-color: transparent;
        background-clip: text;
        animation: error-pulse 2s ease-in-out infinite;
    }
    
    @keyframes error-pulse {
        0%, 100% { filter: drop-shadow(0 0 20px rgba(239, 68, 68, 0.3)); }
        50% { filter: drop-shadow(0 0 40px rgba(239, 68, 68, 0.5)); }
    }
    
    .error-title {
        font-size: var(--font-size-3xl);
        color: var(--color-text-primary);
        margin: var(--spacing-md) 0;
    }
    
    .error-message {
        font-size: var(--font-size-lg);
        color: var(--color-text-secondary);
        margin-bottom: var(--spacing-xl);
        line-height: 1.6;
    }
    
    .error-actions {
        display: flex;
        gap: var(--spacing-md);
        justify-content: center;
        flex-wrap: wrap;
    }
    
    .error-terminal {
        background: var(--color-bg-secondary);
        border: 1px solid var(--color-border);
        border-radius: var(--radius-lg);
        padding: var(--spacing-lg);
        margin-bottom: var(--spacing-xl);
        text-align: left;
        font-family: var(--font-mono);
        font-size: var(--font-size-sm);
    }
    
    .terminal-header {
        display: flex;
        gap: var(--spacing-xs);
        margin-bottom: var(--spacing-md);
    }
    
    .terminal-dot {
        width: 12px;
        height: 12px;
        border-radius: 50%;
    }
    
    .terminal-dot.red { background: #ef4444; }
    .terminal-dot.yellow { background: #eab308; }
    .terminal-dot.green { background: #22c55e; }
    
    .terminal-content {
        color: var(--color-text-secondary);
    }
    
    .terminal-line {
        margin: var(--spacing-xs) 0;
    }
    
    .terminal-line::before {
        content: '> ';
        color: var(--color-accent-cyan);
    }
    
    .terminal-error {
        color: #ef4444;
    }
    
    .terminal-info {
        color: var(--color-accent-cyan);
    }
    
    .glitch-bars {
        position: absolute;
        inset: 0;
        pointer-events: none;
    }
    
    .glitch-bar {
        position: absolute;
        left: 0;
        right: 0;
        height: 4px;
        background: rgba(239, 68, 68, 0.1);
        animation: glitch-bar 3s ease-in-out infinite;
    }
    
    .glitch-bar:nth-child(1) { top: 20%; animation-delay: 0s; }
    .glitch-bar:nth-child(2) { top: 45%; animation-delay: 0.5s; }
    .glitch-bar:nth-child(3) { top: 75%; animation-delay: 1s; }
    
    @keyframes glitch-bar {
        0%, 100% { transform: scaleX(0); transform-origin: left; }
        50% { transform: scaleX(1); transform-origin: left; }
        51% { transform: scaleX(1); transform-origin: right; }
        100% { transform: scaleX(0); transform-origin: right; }
    }
</style>
{% endblock %}

{% block content %}
<main class="error-page">
    <div class="error-bg"></div>
    <div class="error-grid"></div>
    <div class="glitch-bars">
        <div class="glitch-bar"></div>
        <div class="glitch-bar"></div>
        <div class="glitch-bar"></div>
    </div>
    
    <div class="error-content">
        <div class="error-code">500</div>
        <h1 class="error-title">Internal Server Error</h1>
        
        <div class="error-terminal">
            <div class="terminal-header">
                <div class="terminal-dot red"></div>
                <div class="terminal-dot yellow"></div>
                <div class="terminal-dot green"></div>
            </div>
            <div class="terminal-content">
                <div class="terminal-line terminal-error">Error: Unexpected system failure</div>
                <div class="terminal-line">Status: Processing recovery protocols...</div>
                <div class="terminal-line terminal-info">Recommendation: Try again in a few moments</div>
            </div>
        </div>
        
        <p class="error-message">
            Our systems encountered an unexpected error. Our AI agents are already working on it.
            Please try again in a few moments.
        </p>
        
        <div class="error-actions">
            <a href="javascript:location.reload()" class="btn btn-primary">
                <span>Try Again</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M21 2v6h-6"></path>
                    <path d="M3 12a9 9 0 0 1 15-6.7L21 8"></path>
                    <path d="M3 22v-6h6"></path>
                    <path d="M21 12a9 9 0 0 1-15 6.7L3 16"></path>
                </svg>
            </a>
            <a href="/" class="btn btn-secondary">
                <span>Return Home</span>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                    <polyline points="9 22 9 12 15 12 15 22"></polyline>
                </svg>
            </a>
        </div>
    </div>
</main>
{% endblock %}
