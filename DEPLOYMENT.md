# DUODRIVEN - Full-Stack Growth Engineering

A modern Flask-based website for digital marketing and AI engineering services.

## **Local Setup**

```bash
# Clone the repository
git clone https://github.com/Arifuzzamanjoy/duodrivenwebsite.git
cd duodrivenwebsite

# Create virtual environment
python -m venv venv
source venv/bin/activate  # On Windows: venv\Scripts\activate

# Install dependencies
pip install -r requirements.txt

# Create .env file from example
cp .env.example .env
# Edit .env with your actual values

# Run the application
python app.py
```

Visit `http://localhost:5000` in your browser.

---

## **Hostinger Deployment Guide**

### **Step 1: Create Hostinger Account & Choose Plan**
1. Go to [hostinger.com](https://www.hostinger.com)
2. Sign up for an account
3. Choose **Premium Hosting Plan** (minimum recommended for Flask apps)
   - Includes Python support, SSH access, and adequate resources
4. Select your domain or connect an existing one

### **Step 2: Point Domain to Hostinger**
If you own a domain elsewhere:
1. Update nameservers at your domain registrar to Hostinger's nameservers:
   - `ns1.hostinger.com`
   - `ns2.hostinger.com`
   - `ns3.hostinger.com`
   - `ns4.hostinger.com`
2. Wait 24-48 hours for DNS propagation

### **Step 3: Connect via SSH**
1. Go to **hPanel** (Hostinger Control Panel)
2. Navigate to **Advanced → SSH Access**
3. Create SSH credentials
4. Use SSH client to connect:
```bash
ssh username@your-domain.com
# Or use the IP address provided
```

### **Step 4: Upload Your Application**
Using SFTP (recommended) or Git:

**Option A: Using Git (Easiest)**
```bash
cd public_html/
git clone https://github.com/Arifuzzamanjoy/duodrivenwebsite.git
cd duodrivenwebsite
```

**Option B: Using SFTP**
- Use FileZilla or WinSCP
- Upload all files to `public_html/` directory

### **Step 5: Set Up Python Environment**
```bash
cd ~/public_html/duodrivenwebsite

# Create virtual environment
python3 -m venv venv
source venv/bin/activate

# Install dependencies
pip install -r requirements.txt
```

### **Step 6: Create Environment Variables**
```bash
nano .env
```
Add your production variables:
```
SECRET_KEY=your-very-secure-random-key-here
N8N_WEBHOOK_URL=your-webhook-url
CONTACT_WEBHOOK_URL=your-contact-webhook-url
FLASK_ENV=production
```
Press `Ctrl+X`, then `Y`, then `Enter` to save.

### **Step 7: Configure Web Server (Nginx/Apache)**

**Via Hostinger hPanel:**
1. Go to **Domains → your-domain.com → Manage**
2. Navigate to **Autoinstaller** or **Application Installer**
3. Look for **Python** or **Flask** installer
4. Follow the installation wizard

**Manual Configuration (SSH):**

Create an `.htaccess` file (for Apache):
```bash
cat > ~/public_html/.htaccess << 'EOF'
<IfModule mod_rewrite.c>
    RewriteEngine On
    RewriteBase /
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ wsgi.py [L]
</IfModule>
EOF
```

Or configure with Nginx (if available on your plan):
Create `/etc/nginx/sites-available/your-domain.com`:
```nginx
server {
    listen 80;
    server_name your-domain.com www.your-domain.com;
    root /home/username/public_html/duodrivenwebsite;

    location / {
        proxy_pass http://127.0.0.1:8000;
        proxy_set_header Host $host;
        proxy_set_header X-Real-IP $remote_addr;
    }
}
```

### **Step 8: Run Your Application**

**Using Gunicorn (Production Server):**
```bash
cd ~/public_html/duodrivenwebsite
source venv/bin/activate
gunicorn -w 4 -b 127.0.0.1:8000 wsgi:app
```

**Set Up as a Background Service:**
```bash
# Create systemd service file
sudo nano /etc/systemd/system/duodriven.service
```

Add:
```ini
[Unit]
Description=DUODRIVEN Flask Application
After=network.target

[Service]
User=username
WorkingDirectory=/home/username/public_html/duodrivenwebsite
Environment="PATH=/home/username/public_html/duodrivenwebsite/venv/bin"
ExecStart=/home/username/public_html/duodrivenwebsite/venv/bin/gunicorn -w 4 -b 127.0.0.1:8000 wsgi:app
Restart=always

[Install]
WantedBy=multi-user.target
```

Then:
```bash
sudo systemctl daemon-reload
sudo systemctl start duodriven
sudo systemctl enable duodriven
```

### **Step 9: Set Up SSL Certificate**
1. In **hPanel**, go to **Domains → SSL Certificates**
2. Click **Manage SSL** for your domain
3. Enable **Autogenerated SSL Certificate** (Free Let's Encrypt)
4. Wait for activation (usually instant)
5. Force HTTPS redirect in your app:

Update `app.py`:
```python
from flask_talisman import Talisman
Talisman(app)
```

Or in `.htaccess`:
```
RewriteCond %{HTTPS} off
RewriteRule ^(.*)$ https://%{HTTP_HOST}%{REQUEST_URI} [L,R=301]
```

### **Step 10: Monitor & Maintain**
1. **Check Logs:**
```bash
tail -f ~/public_html/duodrivenwebsite/logs/app.log
```

2. **Monitor Resource Usage:**
   - Check hPanel for CPU/RAM usage
   - Upgrade plan if needed

3. **Regular Updates:**
```bash
cd ~/public_html/duodrivenwebsite
source venv/bin/activate
git pull origin main
pip install -r requirements.txt
sudo systemctl restart duodriven
```

---

## **Troubleshooting**

| Issue | Solution |
|-------|----------|
| Site not loading | Check logs: `tail -f /var/log/nginx/error.log` |
| 502 Bad Gateway | Restart service: `sudo systemctl restart duodriven` |
| Static files not loading | Configure static file serving in nginx/Apache |
| Webhooks not working | Verify N8N URL is accessible from Hostinger server |
| High memory usage | Reduce gunicorn workers: `-w 2` |

---

## **Environment Variables Needed**

- `SECRET_KEY` - Generate with: `python -c "import secrets; print(secrets.token_hex(32))"`
- `N8N_WEBHOOK_URL` - Your N8N automation webhook endpoint
- `CONTACT_WEBHOOK_URL` - Contact form webhook endpoint
- `FLASK_ENV` - Set to `production` on Hostinger

---

## **Quick Reference Commands**

```bash
# Connect to server
ssh username@your-domain.com

# Navigate to app
cd ~/public_html/duodrivenwebsite

# Activate virtual environment
source venv/bin/activate

# Pull latest changes
git pull origin main

# Restart application
sudo systemctl restart duodriven

# View logs
journalctl -u duodriven -f

# Check if running
sudo systemctl status duodriven
```

---

For support, contact Hostinger support or visit their help center.
